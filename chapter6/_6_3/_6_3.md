## 6-3 생성자

생성자(Constructor)는 객체 생성 시 호출되는 특별한 메소드로, 객체의 초기화를 담당한다.  
클래스 이름과 동일하며, 반환 타입이 없다.

---

##### 생성자
- 객체를 생성할 때 자동으로 실행되는 블록.
- 주로 필드를 초기화하거나, 객체 사용에 필요한 준비 작업을 수행한다.

**예시:**
```java
public class Car {
    String model;
    int speed;

    // 생성자
    Car(String model, int speed) {
        this.model = model;
        this.speed = speed;
    }
}
```

---

##### 객체 초기화
- 생성자를 사용하면 객체 생성과 동시에 필드 값을 초기화할 수 있다.

**예시:**
```java
Car myCar = new Car("소나타", 100);
System.out.println(myCar.model + ", " + myCar.speed);
```
출력:
```
소나타, 100
```

---

#### 기본 생성자
- 생성자를 선언하지 않으면 컴파일러가 자동으로 기본 생성자를 추가한다.
- 기본 생성자는 매개변수가 없으며, 아무 동작도 하지 않는다.

**예시:**
```java
public class Student {
    String name;
    int age;
}
// 컴파일 시 자동으로 추가되는 생성자
// Student() {}
```

- 클래스에 생성자를 하나라도 선언하면, 기본 생성자는 자동 추가되지 않는다.

---

#### 생성자 선언
- 생성자는 클래스 이름과 같아야 하며, 반환 타입이 없다.

**형식:**
```java
[접근제한자] 클래스명(매개변수목록) {
    실행문;
}
```

**예시:**
```java
public class Car {
    String model;
    int speed;

    public Car(String model, int speed) {
        this.model = model;
        this.speed = speed;
    }
}
```

---

#### 필드 초기화
- 필드를 초기화하는 방법은 3가지가 있다.

1. **필드 선언 시 초기화**
```java
public class Car {
    String model = "소나타";
    int speed = 100;
}
```

2. **생성자에서 초기화**
```java
public class Car {
    String model;
    int speed;
    Car(String model, int speed) {
        this.model = model;
        this.speed = speed;
    }
}
```

3. **초기화 블록에서 초기화 (잘 사용되지는 않음)**
```java
public class Car {
    String model;
    int speed;
    {
        model = "그랜저";
        speed = 120;
    }
}
```

---

#### 생성자 오버로딩
- 한 클래스에 매개변수가 다른 여러 생성자를 선언할 수 있다.
- 다양한 방법으로 객체를 초기화할 수 있다.

**예시:**
```java
public class Car {
    String model;
    int speed;

    Car() {
        this("소나타", 100);
    }

    Car(String model) {
        this(model, 0);
    }

    Car(String model, int speed) {
        this.model = model;
        this.speed = speed;
    }
}
```

```java
Car car1 = new Car();
Car car2 = new Car("아반떼");
Car car3 = new Car("그랜저", 200);
```

출력:
```
소나타, 100
아반떼, 0
그랜저, 200
```

---

#### 다른 생성자 호출: this()
- 생성자 내부에서 다른 생성자를 호출할 때 사용.
- 반드시 생성자의 첫 줄에서만 호출 가능하다.

**예시:**
```java
public class Car {
    String model;
    int speed;

    Car() {
        this("기본모델", 0); // 다른 생성자 호출
    }

    Car(String model) {
        this(model, 0);
    }

    Car(String model, int speed) {
        this.model = model;
        this.speed = speed;
    }
}
```

---

### 정리
1. **생성자**는 객체 생성 시 호출되는 특별한 메소드.  
2. **기본 생성자**는 생성자를 작성하지 않으면 자동으로 제공됨.  
3. 필드는 선언 시, 생성자에서, 또는 초기화 블록에서 초기화할 수 있다.  
4. **생성자 오버로딩**으로 다양한 초기화 방법 제공.  
5. **this()** 를 사용하면 다른 생성자를 호출 가능하며, 반드시 첫 줄에서만 호출 가능하다.  

# 마무리

## ▶ 6가지 키워드로 끝내는 핵심 포인트

• **기본 생성자**: 클래스 선언 시 컴파일러에 의해 자동으로 추가되는 생성자입니다.

• **생성자 선언**: 클래스로부터 객체를 생성할 때 호출되는 생성자를 명시적으로 선언할 수 있습니다. 생성자를 선언하면 기본 생성자는 생성되지 않습니다.

• **매개 변수**: 생성자 호출 시 값을 전달받기 위해 선언되는 변수를 말합니다.

• **객체 초기화**: 객체를 사용하기 전에 준비하는 과정으로 필드를 선언할 때 초기화하거나, 생성자 내부에서 필드값을 초기화할 수 있으며, 메소드를 호출하는 내용으로 구성됩니다.

• **오버로딩**: 매개 변수를 달리하는 생성자를 여러 개 선언하는 것을 말합니다.

• **this()**: 객체 자신의 또 다른 생성자를 호출할 때 사용합니다.

---

## ▶ 확인 문제

### 1. 생성자에 대한 설명으로 맞는 것에 O표, 틀린 것에 X표 하세요.

① 객체를 생성하려면 생성자 호출이 반드시 필요한 것은 아니다. (    )
② 생성자는 다른 생성자를 호출하기 위해 this()를 사용할 수 있다. (    )
③ 생성자가 선언되지 않으면 컴파일러가 기본 생성자를 추가한다. (    )
④ 매개 변수의 수, 타입, 순서가 다른 생성자를 여러 개 선언할 수 있다. (    )

**풀이**:
① 객체를 생성하려면 생성자 호출이 반드시 필요한 것은 아니다. **(X)**
② 생성자는 다른 생성자를 호출하기 위해 this()를 사용할 수 있다. **(O)**
③ 생성자가 선언되지 않으면 컴파일러가 기본 생성자를 추가한다. **(O)**
④ 매개 변수의 수, 타입, 순서가 다른 생성자를 여러 개 선언할 수 있다. **(O)**

**①번 해설**: 객체를 생성하려면 반드시 생성자를 호출해야 합니다. `new 클래스()` 구문에서 괄호가 생성자 호출을 의미합니다.

---

### 2. 다음과 같이 Member 객체를 생성하고 싶습니다. 생성자에서 name 필드와 id 필드를 외부에서 받은 값으로 초기화할 수 있도록 Member 클래스를 작성해보세요.

```java
Member user1 = new Member("홍길동", "hong");
```

**풀이**:
```java
public class Member {
    String name;
    String id;
    
    // 매개변수를 받는 생성자
    public Member(String name, String id) {
        this.name = name;
        this.id = id;
    }
}
```

**해설**:
- 생성자는 클래스명과 동일한 이름을 가짐
- 매개변수로 name과 id를 받아서 필드에 초기화
- `this.name`은 객체의 필드를 의미하고, `name`은 매개변수를 의미
- this 키워드로 필드와 매개변수를 구분

---

### 3. Board 클래스의 생성자가 다음과 같이 오버로딩되어 있습니다. 생성자마다 중복 코딩된 부분이 있습니다. this()를 활용해서 중복 코드를 제거해보세요.

```java
public class Board {
    String title;
    String content;
    String writer;
    String date;
    int hitcount;

    Board(String title, String content) {
        this.title = title;
        this.content = content;
        this.writer = "로그인한 회원아이디";
        this.date = "현재 컴퓨터 날짜";
        this.hitcount = 0;
    }

    Board(String title, String content, String writer) {
        this.title = title;
        this.content = content;
        this.writer = writer;
        this.date = "현재 컴퓨터 날짜";
        this.hitcount = 0;
    }

    Board(String title, String content, String writer, String date) {
        this.title = title;
        this.content = content;
        this.writer = writer;
        this.date = date;
        this.hitcount = 0;
    }

    Board(String title, String content, String writer, String date, int hitcount) {
        this.title = title;
        this.content = content;
        this.writer = writer;
        this.date = date;
        this.hitcount = hitcount;
    }
}
```

**풀이**:
```java
public class Board {
    String title;
    String content;
    String writer;
    String date;
    int hitcount;

    Board(String title, String content) {
        this(title, content, "로그인한 회원아이디");
    }

    Board(String title, String content, String writer) {
        this(title, content, writer, "현재 컴퓨터 날짜");
    }

    Board(String title, String content, String writer, String date) {
        this(title, content, writer, date, 0);
    }

    Board(String title, String content, String writer, String date, int hitcount) {
        this.title = title;
        this.content = content;
        this.writer = writer;
        this.date = date;
        this.hitcount = hitcount;
    }
}
```

**해설**:
- `this()`는 같은 클래스의 다른 생성자를 호출
- 가장 많은 매개변수를 가진 생성자에서 실제 초기화 작업 수행
- 나머지 생성자들은 `this()`를 통해 최종 생성자 호출
- 코드 중복을 제거하고 유지보수성 향상
- `this()` 호출은 생성자의 첫 번째 문장이어야 함

---

### 4. Board 클래스가 위와 같이 선언되어 있을 경우 Board 객체를 생성하는 네 가지 방법을 모두 기술해보세요.

**풀이**:
```java
① Board board1 = new Board("제목", "내용");

② Board board2 = new Board("제목", "내용", "작성자");

③ Board board3 = new Board("제목", "내용", "작성자", "날짜");

④ Board board4 = new Board("제목", "내용", "작성자", "날짜", 100);
```

**해설**:
- 각 생성자는 서로 다른 개수의 매개변수를 받음
- 생성자 오버로딩을 통해 다양한 방식으로 객체 생성 가능
- 매개변수가 적은 생성자는 기본값으로 초기화
- 사용자가 필요한 정보만 제공하여 객체 생성 가능