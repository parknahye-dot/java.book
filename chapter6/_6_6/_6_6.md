## 6-6 패키지와 접근 제한자

자바에서 **패키지(Package)** 는 클래스를 체계적으로 관리하기 위한 디렉토리 구조이며,  
**접근 제한자(Access Modifier)** 는 클래스, 생성자, 필드, 메소드의 사용 범위를 지정한다.

---

#### 패키지 선언
- 패키지는 클래스 파일을 구분하기 위한 디렉토리 역할을 한다.
- 클래스 파일 상단에 `package` 키워드로 선언한다.

**형식:**
```java
package 패키지명;
```

**예시:**
```java
package com.example.myapp;
public class Car {
    String model;
}
```

- 패키지명은 보통 회사 도메인 이름을 거꾸로 사용한다.  

---

##### 이클립스에서의 패키지 생성과 클래스 생성
1. `src` 폴더에서 **New → Package** 선택 → 패키지 이름 입력.  
2. 해당 패키지를 선택한 후, **New → Class** 선택 → 클래스 생성.  
3. 생성된 클래스는 자동으로 해당 패키지에 속한다.  

예시: `com.mycompany.project` 패키지 생성 → `Car.java` 클래스 작성 시  
```java
package com.mycompany.project;
public class Car {}
```

---

##### import문
- 다른 패키지의 클래스를 사용할 때 import문을 사용한다.
- `java.lang` 패키지(기본 제공)는 import 없이 사용 가능.

**형식:**
```java
import 패키지명.클래스명;
import 패키지명.*;
```

**예시:**
```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        int num = sc.nextInt();
        System.out.println(num);
    }
}
```

---

#### 접근 제한자
- 클래스, 생성자, 필드, 메소드에 접근 범위를 지정.  

| 접근 제한자 | 클래스 외부 접근 가능 범위 |
|-------------|-------------------------|
| public      | 모두 접근 가능 |
| protected   | 같은 패키지 + 자식 클래스 |
| (default)   | 같은 패키지 |
| private     | 같은 클래스 내부만 |

---

#### 클래스의 접근 제한
- 클래스는 `public` 또는 (default) 접근 제한만 가능하다.

##### public 접근제한
- `public` 클래스는 모든 패키지에서 접근 가능.
- 파일명은 반드시 클래스 이름과 동일해야 한다.

**예시:**
```java
package com.mycompany;
public class Car {} // Car.java
```

- (default) 클래스: 같은 패키지에서만 접근 가능.

---

#### 생성자의 접근 제한
- 생성자에 접근 제한자를 붙여 객체 생성 범위를 제어할 수 있다.

**예시:**
```java
public class Singleton {
    private Singleton() {} // 외부에서 객체 생성 불가
}
```

- 보통 **싱글톤 패턴** 구현 시 `private` 생성자를 사용한다.

---

#### 필드와 메소드의 접근 제한
- 필드와 메소드는 `public`, `protected`, (default), `private` 모두 사용 가능하다.

**예시:**
```java
public class Person {
    public String name;    // 어디서든 접근 가능
    int age;               // 같은 패키지에서만 접근 가능
    private String ssn;    // 클래스 내부에서만 접근 가능
    
    public void printName() {
        System.out.println(name);
    }
}
```

---

#### Getter와 Setter 메소드
- `private` 필드에 직접 접근할 수 없으므로, Getter/Setter 메소드를 통해 접근한다.

**예시:**
```java
public class Student {
    private String name;
    private int age;

    // Getter
    public String getName() {
        return name;
    }
    // Setter
    public void setName(String name) {
        this.name = name;
    }
    public int getAge() {
        return age;
    }
    public void setAge(int age) {
        if (age >= 0) {
            this.age = age;
        }
    }
}
```

**사용 예시:**
```java
Student s = new Student();
s.setName("홍길동");
s.setAge(20);
System.out.println(s.getName() + " (" + s.getAge() + "세)");
```

출력:
```
홍길동 (20세)
```

---

### 정리
1. **패키지**는 클래스 파일을 관리하는 디렉토리 구조.  
2. `import`문으로 다른 패키지 클래스 사용.  
3. 접근 제한자 4종류: `public`, `protected`, (default), `private`.  
4. 클래스는 `public`과 (default)만 가능.  
5. 생성자의 접근 제한으로 객체 생성 범위 제어 가능.  
6. 필드와 메소드는 캡슐화를 위해 `private`로 선언 후 **Getter/Setter** 제공.  

# 마무리

## ▶ 4가지 키워드로 끝내는 핵심 포인트

• **패키지 선언**: 해당 클래스 또는 인터페이스가 어떤 패키지에 속할 것인지를 선언하는 것을 패키지 선언이라고 합니다. 소스 파일의 최상단에 위치하며 다음과 같이 작성합니다.

```
package 상위패키지.하위패키지;
```

• **import문**: 사용하고자 하는 클래스 또는 인터페이스가 다른 패키지에 소속되어 있다면, import문으로 해당 패키지의 클래스 또는 인터페이스를 가져와 사용할 것임을 컴파일러에게 알려줘야 합니다.

```
import 상위패키지.하위패키지.클래스이름;
import 상위패키지.하위패키지.*;
```

• **접근 제한자**: 클래스와 인터페이스를 다른 패키지에서 사용하지 못하도록 막을 필요가 있습니다. 그리고 객체 생성을 막기 위해 생성자를 호출하지 못하게 하거나 필드나 메소드를 사용하지 못하도록 막아야 되는 경우도 있습니다. 이때 접근 제한자를 사용할 수 있습니다.

| 접근 제한 | 적용 대상 | 접근할 수 없는 클래스 |
|----------|-----------|---------------------|
| **public** | 클래스, 필드, 생성자, 메소드 | 없음 |
| **protected** | 필드, 생성자, 메소드 | 자식 클래스가 아닌 다른 패키지에 소속된 클래스 |
| **default** | 클래스, 필드, 생성자, 메소드 | 다른 패키지에 소속된 클래스 |
| **private** | 필드, 생성자, 메소드 | 모든 외부 클래스 |

• **Getter/Setter**: 필드는 외부에서 접근할 수 없도록 막고 메소드는 공개해서 외부에서 메소드를 통해 필드에 접근하도록 유도합니다. 필드의 값을 외부로 리턴해주는 메소드를 Getter라고 하고 외부에서 값을 받아 필드를 변경하는 메소드를 Setter라고 합니다.

---

## ▶ 확인 문제

### 1. 접근 제한자에 대한 설명으로 틀린 것은 무엇입니까?

① 접근 제한자는 클래스, 필드, 생성자, 메소드의 사용을 제한한다.
② public 접근 제한은 아무런 제한 없이 해당 요소를 사용할 수 있게 한다.
③ default 접근 제한은 해당 클래스 내부에서만 사용을 허가한다.
④ 외부에서 접근하지 못하도록 하려면 private 접근 제한을 해야 한다.

**풀이**: 
**정답: ③**

**해설**:
- ① 접근 제한자는 클래스, 필드, 생성자, 메소드의 사용 범위를 제한합니다. ✓
- ② public은 어디서든 접근 가능합니다. ✓
- ③ **틀림**: default 접근 제한은 **같은 패키지 내**에서만 접근을 허가합니다. 해당 클래스 내부뿐만 아니라 같은 패키지의 다른 클래스에서도 접근 가능합니다.
- ④ private은 해당 클래스 내부에서만 접근 가능합니다. ✓

**접근 제한자 범위 정리**:
- **private**: 같은 클래스 내부에서만
- **default**: 같은 패키지 내에서만  
- **protected**: 같은 패키지 + 다른 패키지의 하위 클래스
- **public**: 모든 곳에서

---

## 추가 학습 내용

### 패키지 사용의 이점
1. **클래스 분류**: 관련된 클래스들을 그룹화
2. **이름 충돌 방지**: 같은 이름의 클래스라도 패키지가 다르면 구분
3. **접근 제어**: 패키지 단위로 접근 제한 설정

### import문 사용법
```java
// 특정 클래스만 import
import java.util.Scanner;
import java.util.ArrayList;

// 패키지의 모든 클래스 import
import java.util.*;

// static import (정적 멤버 import)
import static java.lang.Math.PI;
import static java.lang.Math.*;
```

### Getter/Setter 예제
```java
public class Person {
    private String name;  // private 필드
    private int age;      // private 필드
    
    // Getter 메소드
    public String getName() {
        return name;
    }
    
    // Setter 메소드
    public void setName(String name) {
        this.name = name;
    }
    
    public int getAge() {
        return age;
    }
    
    public void setAge(int age) {
        if(age >= 0) {  // 유효성 검사
            this.age = age;
        }
    }
}
```

### 접근 제한자 실제 사용 예제
```java
// com.example.myapp 패키지
package com.example.myapp;

public class BankAccount {
    private double balance;        // private: 클래스 내부에서만 접근
    String accountNumber;          // default: 같은 패키지에서만 접근
    protected String ownerName;    // protected: 같은 패키지 + 상속 클래스
    public String bankName;        // public: 모든 곳에서 접근
    
    public BankAccount(String accountNumber, String ownerName) {
        this.accountNumber = accountNumber;
        this.ownerName = ownerName;
        this.balance = 0.0;
        this.bankName = "My Bank";
    }
    
    // private 필드에 접근하기 위한 public 메소드
    public double getBalance() {
        return balance;
    }
    
    public void deposit(double amount) {
        if(amount > 0) {
            balance += amount;
        }
    }
}
```

### 패키지 구조 예시
```
com.company.project
├── model
│   ├── User.java
│   └── Product.java
├── service  
│   ├── UserService.java
│   └── ProductService.java
└── util
    ├── DateUtil.java
    └── StringUtil.java
```

### 실무에서의 활용
- **Model**: 데이터 클래스 (보통 private 필드 + public getter/setter)
- **Service**: 비즈니스 로직 (보통 public 메소드)
- **Util**: 유틸리티 클래스 (보통 public static 메소드)
- **Controller**: 외부 인터페이스 (보통 public 메소드)