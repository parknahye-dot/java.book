## 5-2 배열

자바에서 배열(Array)은 같은 타입의 데이터를 연속된 공간에 저장하고, 인덱스를 사용하여 접근할 수 있는 자료구조이다.  
반복문과 함께 사용하면 효율적으로 데이터를 처리할 수 있다.

---

#### 배열이란?
- 같은 타입의 데이터를 여러 개 저장할 수 있는 자료구조.
- 각 요소는 인덱스로 구분되며, 0부터 시작한다.
- 배열의 길이는 한 번 정하면 변경할 수 없다.

**예시:**
```java
int[] scores = {90, 80, 70};
System.out.println(scores[0]); // 90
System.out.println(scores[1]); // 80
```

---

#### 배열 선언
- 배열을 사용하려면 먼저 선언해야 한다.

**형식:**
```java
타입[] 변수명;
타입 변수명[];
```

**예시:**
```java
int[] numbers;
String names[];
```

---

#### 배열 생성
배열을 선언한 뒤에는 실제 메모리에 배열을 생성해야 한다.

##### 값 목록으로 배열 생성
- 중괄호 `{}` 안에 값을 나열하여 배열 생성.

**예시:**
```java
int[] scores = {90, 80, 70, 60};
```

- 선언과 생성을 분리할 경우:
```java
int[] scores;
scores = new int[]{90, 80, 70, 60};
```

##### new 연산자로 배열 생성
- new 연산자를 사용하여 원하는 길이로 배열을 생성.

**예시:**
```java
int[] arr = new int[5]; // 길이 5, 기본값 0으로 초기화
arr[0] = 10;
arr[1] = 20;
```

- 참조 타입 배열은 기본값이 `null`로 초기화된다.

---

#### 배열 길이
- 배열은 `length` 필드를 사용하여 길이를 확인할 수 있다.

**예시:**
```java
int[] scores = {90, 80, 70};
System.out.println(scores.length); // 3
```

---

#### 명령 라인 입력
- main 메소드의 매개변수 `String[] args`는 명령 라인에서 입력된 데이터를 배열로 받는다.

**예시 (실행):**
```
java Main Hello World
```

**코드:**
```java
public class Main {
    public static void main(String[] args) {
        System.out.println(args[0]); // Hello
        System.out.println(args[1]); // World
    }
}
```

---

#### 다차원 배열
- 배열 안에 또 다른 배열을 저장할 수 있다.

**예시: 2차원 배열**
```java
int[][] matrix = {
    {1, 2, 3},
    {4, 5, 6}
};
System.out.println(matrix[0][1]); // 2
```

- new 연산자 사용:
```java
int[][] matrix = new int[2][3];
matrix[0][0] = 10;
```

---

#### 객체를 참조하는 배열
- 배열 요소로 객체를 저장할 수도 있다.

**예시:**
```java
String[] names = new String[3];
names[0] = "홍길동";
names[1] = "이몽룡";
names[2] = "성춘향";
```

- 배열 요소가 참조 타입이면 기본값은 `null`이다.

---

#### 배열 복사
- 배열은 길이가 고정되어 변경할 수 없으므로, 더 큰 배열이 필요하면 복사해야 한다.

**for문을 이용한 복사:**
```java
int[] oldArr = {1, 2, 3};
int[] newArr = new int[5];
for (int i = 0; i < oldArr.length; i++) {
    newArr[i] = oldArr[i];
}
```

**System.arraycopy 이용:**
```java
int[] oldArr = {1, 2, 3};
int[] newArr = new int[5];
System.arraycopy(oldArr, 0, newArr, 0, oldArr.length);
```

---

#### 향상된 for문
- 배열의 모든 요소를 간단하게 순회할 때 사용한다.

**형식:**
```java
for (타입 변수 : 배열) {
    실행문;
}
```

**예시:**
```java
int[] scores = {90, 80, 70};
for (int score : scores) {
    System.out.println(score);
}
```

출력:
```
90
80
70
```

- 배열 요소를 읽을 때만 사용 가능하며, 값 변경은 불가능하다.

---

### 정리
1. 배열은 같은 타입 데이터를 연속 저장.  
2. 선언 후 값 목록 또는 new 연산자로 생성.  
3. `length` 필드로 길이 확인.  
4. 명령 라인 인자는 `String[] args`로 전달.  
5. 다차원 배열과 객체 배열 사용 가능.  
6. 배열 복사는 for문 또는 `System.arraycopy`.  
7. 향상된 for문으로 간단히 순회 가능.  

# 마무리

## ▶ 7가지 키워드로 끝내는 핵심 포인트

• **배열**: 같은 타입의 데이터를 연속된 공간에 나열하고, 각 데이터에 인덱스를 부여해놓은 자료구조입니다.

• **인덱스**: 배열 항목에 붙인 번호를 말합니다. 0번부터 시작하며 0~(배열 길이-1)까지 번호를 갖습니다.

• **배열 선언**: 변수 선언과 비슷한데, 대괄호가 추가되어 타입[] 변수; 형태로 선언됩니다. int[] scores는 int 배열을 선언합니다. 여기서 scores는 배열 변수라고 부릅니다.

• **배열 생성**: 배열을 생성하는 방법은 두 가지입니다. 하나는 {값1, 값2, 값3, ...} 처럼 각 목록으로 생성하는 방법이고, 다른 하나는 new 타입[길이]로 생성하는 방법입니다.

• **배열 길이**: 배열에 저장할 수 있는 항목(값)의 수를 말합니다. 배열의 length 필드에 저장되어 있기 때문에 변수.length로 배열 길이를 읽을 수 있습니다.

• **다차원 배열**: 배열 항목이 또 다른 배열을 참조할 때 이것을 다차원 배열이라고 합니다. 다차원 배열의 선언과 생성 방법은 타입[][] 변수 = new 타입[길이1][길이2]; 입니다. 변수.length는 1차원 배열의 길이이고, 변수[인덱스].length는 해당 항목이 참조하는 2차원 배열의 길이2를 말합니다.

• **향상된 for문**: for(타입 변수 : 배열) { ... }을 말합니다. 향상된 for문은 반복 실행을 하기 위해 루프 카운터 변수와 증감식을 사용하지 않습니다. 배열의 항목 개수만큼 반복하고, 자동적으로 for문을 빠져나갑니다. 반복할 때마다 변수에는 배열에서 가져온 항목이 저장됩니다.

---

## ▶ 확인 문제

### 1. 배열을 생성하는 방법으로 틀린 것은 무엇입니까?

① int[] array = { 1, 2, 3 };
② int[] array; array = { 1, 2, 3 };
③ int[] array = new int[3];
④ int[][] array = new int[3][2];

**풀이**: 
**정답: ②**

**해설**:
- ① 배열 선언과 동시에 초기화하는 올바른 방법
- ② **틀린 방법**: 배열 변수를 먼저 선언한 후에는 `{ 1, 2, 3 }` 형태로 초기화할 수 없습니다. `array = new int[]{1, 2, 3};`로 해야 합니다.
- ③ 크기 3인 int 배열을 생성하는 올바른 방법
- ④ 3×2 크기의 2차원 배열을 생성하는 올바른 방법

---

### 2. 배열의 기본 초기값에 대한 설명으로 틀린 것은 무엇입니까?

① 정수 타입 배열 항목의 기본 초기값은 0이다.
② 실수 타입 배열 항목의 기본 초기값은 0.0f 또는 0.0이다.
③ boolean 타입 배열 항목의 기본 초기값은 true이다.
④ 참조 타입 배열 항목의 기본 초기값은 null이다.

**풀이**: 
**정답: ③**

**해설**:
- ① 정수 타입(int, byte, short, long)의 기본값은 0 ✓
- ② 실수 타입(float, double)의 기본값은 0.0f, 0.0 ✓
- ③ **틀림**: boolean 타입의 기본값은 **false**입니다.
- ④ 참조 타입(String, 객체 등)의 기본값은 null ✓

---

### 3. 배열의 길이에 대한 문제입니다. array.length의 값과 array[2].length의 값은 얼마입니까?

```java
int[][] array = {
    {95, 86},
    {83, 92, 96},
    {78, 83, 93, 87, 88}
};
```

**풀이**: 
- **array.length**: 3 (1차원 배열의 길이, 즉 행의 개수)
- **array[2].length**: 5 (2번째 인덱스 행의 길이, 즉 {78, 83, 93, 87, 88}의 원소 개수)

**배열 구조**:
```
array[0] = {95, 86}        // 길이 2
array[1] = {83, 92, 96}    // 길이 3  
array[2] = {78, 83, 93, 87, 88}  // 길이 5
```

---

### 4. for문을 이용해서 주어진 배열의 항목에서 최대값을 구해보세요.

```java
package sec02.verify.exam04;

public class Exam04 {
    public static void main(String[] args) {
        int max = 0;
        int[] array = { 1, 5, 3, 8, 2 };
        
        //작성 위치
        
        System.out.println("max: " + max);
    }
}
```

**풀이**:
```java
package sec02.verify.exam04;

public class Exam04 {
    public static void main(String[] args) {
        int max = 0;
        int[] array = { 1, 5, 3, 8, 2 };
        
        // 첫 번째 원소로 초기화
        max = array[0];
        
        // 나머지 원소들과 비교
        for(int i = 1; i < array.length; i++) {
            if(array[i] > max) {
                max = array[i];
            }
        }
        
        System.out.println("max: " + max);
    }
}
```

**실행 결과**: `max: 8`

**또 다른 방법 (향상된 for문 사용)**:
```java
max = array[0];
for(int value : array) {
    if(value > max) {
        max = value;
    }
}
```

---

### 5. 중첩 for문을 이용해서 주어진 배열의 전체 항목의 합과 평균값을 구해보세요.

```java
package sec02.verify.exam05;

public class Exam05 {
    public static void main(String[] args) {
        int[][] array = {
            {95, 86},
            {83, 92, 96},
            {78, 83, 93, 87, 88}
        };
        
        int sum = 0;
        double avg = 0.0;
        
        //작성 위치
        
        System.out.println("sum: " + sum);
        System.out.println("avg: " + avg);
    }
}
```

**풀이**:
```java
package sec02.verify.exam05;

public class Exam05 {
    public static void main(String[] args) {
        int[][] array = {
            {95, 86},
            {83, 92, 96},
            {78, 83, 93, 87, 88}
        };
        
        int sum = 0;
        double avg = 0.0;
        int count = 0;  // 전체 원소 개수
        
        // 중첩 for문으로 모든 원소 합계 구하기
        for(int i = 0; i < array.length; i++) {
            for(int j = 0; j < array[i].length; j++) {
                sum += array[i][j];
                count++;
            }
        }
        
        // 평균 계산
        avg = (double) sum / count;
        
        System.out.println("sum: " + sum);
        System.out.println("avg: " + avg);
    }
}
```

**실행 결과**: 
```
sum: 881
avg: 88.1
```

**향상된 for문을 사용한 방법**:
```java
int count = 0;
for(int[] row : array) {
    for(int value : row) {
        sum += value;
        count++;
    }
}
avg = (double) sum / count;
```

---

### 6. 다음은 키보드부터 학생 수와 각 학생들의 점수를 입력받아서, 최고 점수 및 평균 점수를 구하는 프로그램입니다. 실행결과를 보고 알맞게 작성해보세요.

```java
package sec02.verify.exam06;

import java.util.Scanner;

public class Exam06 {
    public static void main(String[] args) {
        boolean run = true;
        int studentNum = 0;
        int[] scores = null;
        Scanner scanner = new Scanner(System.in);
        
        while(run) {
            System.out.println("-----------------------------------");
            System.out.println("1.학생수 | 2.점수입력 | 3.점수리스트 | 4.분석 | 5.종료");
            System.out.println("-----------------------------------");
            System.out.print("선택> ");
            
            int selectNo = Integer.parseInt(scanner.nextLine());
            
            if(selectNo == 1) {
                //작성 위치
            } else if(selectNo == 2) {
                //작성 위치  
            } else if(selectNo == 3) {
                //작성 위치
            } else if(selectNo == 4) {
                //작성 위치
            } else if(selectNo == 5) {
                run = false;
            }
        }
        
        System.out.println("프로그램 종료");
    }
}
```

**풀이**:
```java
package sec02.verify.exam06;

import java.util.Scanner;

public class Exam06 {
    public static void main(String[] args) {
        boolean run = true;
        int studentNum = 0;
        int[] scores = null;
        Scanner scanner = new Scanner(System.in);
        
        while(run) {
            System.out.println("-----------------------------------");
            System.out.println("1.학생수 | 2.점수입력 | 3.점수리스트 | 4.분석 | 5.종료");
            System.out.println("-----------------------------------");
            System.out.print("선택> ");
            
            int selectNo = Integer.parseInt(scanner.nextLine());
            
            if(selectNo == 1) {
                // 학생 수 입력
                System.out.print("학생수> ");
                studentNum = Integer.parseInt(scanner.nextLine());
                scores = new int[studentNum];  // 배열 생성
                
            } else if(selectNo == 2) {
                // 점수 입력
                for(int i = 0; i < scores.length; i++) {
                    System.out.print("scores[" + i + "]> ");
                    scores[i] = Integer.parseInt(scanner.nextLine());
                }
                
            } else if(selectNo == 3) {
                // 점수 리스트 출력
                for(int i = 0; i < scores.length; i++) {
                    System.out.println("scores[" + i + "]> " + scores[i]);
                }
                
            } else if(selectNo == 4) {
                // 최고 점수와 평균 점수 분석
                int max = 0;
                int sum = 0;
                
                for(int score : scores) {
                    if(score > max) {
                        max = score;
                    }
                    sum += score;
                }
                
                double avg = (double) sum / scores.length;
                
                System.out.println("최고 점수: " + max);
                System.out.println("평균 점수: " + avg);
                
            } else if(selectNo == 5) {
                run = false;
            }
        }
        
        System.out.println("프로그램 종료");
        scanner.close();
    }
}
```

**실행 예시**:
```
-----------------------------------
1.학생수 | 2.점수입력 | 3.점수리스트 | 4.분석 | 5.종료
-----------------------------------
선택> 1
학생수> 3
-----------------------------------
1.학생수 | 2.점수입력 | 3.점수리스트 | 4.분석 | 5.종료
-----------------------------------
선택> 2
scores[0]> 88
scores[1]> 95
scores[2]> 79
-----------------------------------
1.학생수 | 2.점수입력 | 3.점수리스트 | 4.분석 | 5.종료
-----------------------------------
선택> 3
scores[0]> 88
scores[1]> 95
scores[2]> 79
-----------------------------------
1.학생수 | 2.점수입력 | 3.점수리스트 | 4.분석 | 5.종료
-----------------------------------
선택> 4
최고 점수: 95
평균 점수: 87.33333333333333
-----------------------------------
1.학생수 | 2.점수입력 | 3.점수리스트 | 4.분석 | 5.종료
-----------------------------------
선택> 5
프로그램 종료
```

---

## 추가 학습 포인트

### 배열 초기화 방법 정리
```java
// 1. 선언과 동시에 초기화
int[] arr1 = {1, 2, 3, 4, 5};

// 2. 선언 후 초기화
int[] arr2;
arr2 = new int[]{1, 2, 3, 4, 5};

// 3. 크기만 지정 (기본값으로 초기화)
int[] arr3 = new int[5];  // {0, 0, 0, 0, 0}
```

### 배열 순회 방법
```java
int[] array = {1, 2, 3, 4, 5};

// 1. 일반 for문
for(int i = 0; i < array.length; i++) {
    System.out.println(array[i]);
}

// 2. 향상된 for문 (for-each)
for(int value : array) {
    System.out.println(value);
}
```

### 2차원 배열의 특징
- 각 행의 길이가 다를 수 있음 (가변 배열)
- `array.length`: 행의 개수
- `array[i].length`: i번째 행의 열 개수