## 11-2 java.util 패키지

`java.util` 패키지는 날짜, 시간, 자료구조, 유틸리티 기능을 제공하는 클래스들을 포함한다.  
대표적으로 **Date**, **Calendar**, **Random**, **Arrays**, **Collections** 클래스가 있다.  
이번 절에서는 **Date 클래스**와 **Calendar 클래스**를 다룬다.

---

#### Date 클래스
- 날짜와 시간을 표현하는 클래스.
- 현재는 `java.time` 패키지(LocalDateTime 등)가 권장되지만, 여전히 많이 사용된다.

**생성 방법:**
```java
import java.util.Date;

public class DateExample {
    public static void main(String[] args) {
        Date now = new Date();
        System.out.println(now.toString());
    }
}
```
출력 예시:
```
Mon Sep 22 14:55:02 KST 2025
```

- 주요 메소드 (Deprecated 많음 → Calendar, LocalDateTime 사용 권장)
  - `getTime()` : 1970년 1월 1일 0시 기준 밀리초 반환
  - `before(Date d)`, `after(Date d)` : 날짜 비교
  - `equals(Object obj)` : 동일 시각인지 비교

**예시:**
```java
Date d1 = new Date();
Date d2 = new Date(System.currentTimeMillis() + 1000);

System.out.println(d1.before(d2)); // true
System.out.println(d1.after(d2));  // false
```

---

#### Calendar 클래스
- `Date`의 단점을 보완하기 위해 제공되는 추상 클래스.
- 날짜와 시간을 좀 더 세밀하게 다룰 수 있다.
- 객체 생성은 new로 직접 하지 않고, `getInstance()` 메소드 사용.

**생성 방법:**
```java
import java.util.Calendar;

public class CalendarExample {
    public static void main(String[] args) {
        Calendar cal = Calendar.getInstance();
        int year = cal.get(Calendar.YEAR);
        int month = cal.get(Calendar.MONTH) + 1; // 0부터 시작
        int day = cal.get(Calendar.DAY_OF_MONTH);
        int hour = cal.get(Calendar.HOUR_OF_DAY);
        int minute = cal.get(Calendar.MINUTE);
        int second = cal.get(Calendar.SECOND);

        System.out.printf("%d-%02d-%02d %02d:%02d:%02d%n",
                          year, month, day, hour, minute, second);
    }
}
```

출력 예시:
```
2025-09-22 14:58:32
```

- 주요 상수 및 메소드
  - `Calendar.YEAR`, `Calendar.MONTH`, `Calendar.DAY_OF_MONTH`
  - `Calendar.HOUR`, `Calendar.HOUR_OF_DAY`, `Calendar.MINUTE`, `Calendar.SECOND`
  - `get(int field)` : 해당 필드 값 얻기
  - `set(int field, int value)` : 날짜/시간 값 설정
  - `add(int field, int amount)` : 특정 필드 값 더하기/빼기

**예시: 날짜 연산**
```java
Calendar cal = Calendar.getInstance();
cal.set(2025, Calendar.DECEMBER, 25);
cal.add(Calendar.DAY_OF_MONTH, -7);

System.out.printf("크리스마스 1주일 전: %d-%02d-%02d%n",
                  cal.get(Calendar.YEAR),
                  cal.get(Calendar.MONTH) + 1,
                  cal.get(Calendar.DAY_OF_MONTH));
```

출력 예시:
```
크리스마스 1주일 전: 2025-12-18
```

---

### 정리
1. `Date` 클래스는 날짜와 시간을 표현하지만, 현재는 사용이 제한적.  
2. `Calendar` 클래스는 날짜와 시간을 세밀히 다룰 수 있으며, 연산 기능 제공.  
3. `Calendar.getInstance()`로 객체 생성, 상수 필드를 이용해 연/월/일/시간 접근.  

# 마무리

## ▶ 2가지 키워드로 끝내는 핵심 포인트

• **Date 클래스**: 날짜를 표현하는 클래스입니다. Date 클래스는 객체 간에 날짜 정보를 주고받을 때 매개 변수나 리턴 타입으로 주로 사용됩니다.

• **Calendar 클래스**: 달력을 표현하는 클래스입니다. Calendar 클래스는 추상(abstract) 클래스이므로 new 연산자를 사용해서 인스턴스를 생성할 수 없습니다. Calendar 클래스의 정적 메소드인 getInstance() 메소드를 이용하면 현재 운영체제에 설정되어 있는 시간대(TimeZone)를 기준으로 한 Calendar 하위 객체를 얻을 수 있습니다.

---

## ▶ 확인 문제

### 1. Date와 SimpleDateFormat 클래스를 이용해서 오늘의 날짜를 다음과 같이 출력하는 프로그램을 작성해보세요.

```
2024년 05월 08일 수요일 10시 30분
```

**풀이**:
```java
import java.util.Date;
import java.text.SimpleDateFormat;

public class DateFormatExample {
    public static void main(String[] args) {
        Date now = new Date();
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy년 MM월 dd일 E요일 HH시 mm분");
        String strNow = sdf.format(now);
        System.out.println(strNow);
    }
}
```

**SimpleDateFormat 패턴 문자**:
- `yyyy`: 4자리 연도
- `MM`: 2자리 월 (01~12)
- `dd`: 2자리 일 (01~31)
- `E`: 요일 (월, 화, 수, 목, 금, 토, 일)
- `HH`: 24시간 형식의 시간 (00~23)
- `mm`: 분 (00~59)
- `ss`: 초 (00~59)

**다른 패턴 예시**:
```java
// 다양한 날짜 형식
SimpleDateFormat sdf1 = new SimpleDateFormat("yyyy-MM-dd");          // 2024-05-08
SimpleDateFormat sdf2 = new SimpleDateFormat("yyyy/MM/dd HH:mm:ss"); // 2024/05/08 10:30:25
SimpleDateFormat sdf3 = new SimpleDateFormat("MM월 dd일 (E)");        // 05월 08일 (수)
```

---

### 2. Calendar 클래스를 이용해서 1번과 동일한 실행결과를 출력하는 프로그램을 작성해보세요.

**풀이**:
```java
import java.util.Calendar;

public class CalendarExample {
    public static void main(String[] args) {
        Calendar now = Calendar.getInstance();
        
        int year = now.get(Calendar.YEAR);
        int month = now.get(Calendar.MONTH) + 1;  // 월은 0부터 시작하므로 +1
        int day = now.get(Calendar.DAY_OF_MONTH);
        int dayOfWeek = now.get(Calendar.DAY_OF_WEEK);
        int hour = now.get(Calendar.HOUR_OF_DAY);
        int minute = now.get(Calendar.MINUTE);
        
        // 요일 문자열 배열
        String[] dayNames = {"", "일", "월", "화", "수", "목", "금", "토"};
        
        System.out.printf("%d년 %02d월 %02d일 %s요일 %d시 %02d분%n", 
            year, month, day, dayNames[dayOfWeek], hour, minute);
    }
}
```

**Calendar 필드 상수들**:
- `Calendar.YEAR`: 연도
- `Calendar.MONTH`: 월 (0~11, 0=1월)
- `Calendar.DAY_OF_MONTH`: 일
- `Calendar.DAY_OF_WEEK`: 요일 (1=일요일, 2=월요일, ..., 7=토요일)
- `Calendar.HOUR_OF_DAY`: 24시간 형식의 시간
- `Calendar.MINUTE`: 분
- `Calendar.SECOND`: 초

**주의사항**:
- `Calendar.MONTH`는 0부터 시작 (0=1월, 11=12월)
- `Calendar.DAY_OF_WEEK`는 1부터 시작 (1=일요일)

---

## 추가 학습 내용

### Date와 Calendar 사용 시점
- **Date**: 날짜 데이터를 저장하고 전달할 때 사용
- **Calendar**: 날짜 계산이나 특정 날짜 필드에 접근할 때 사용

### 날짜 계산 예제
```java
import java.util.Calendar;

public class DateCalculationExample {
    public static void main(String[] args) {
        Calendar cal = Calendar.getInstance();
        
        // 현재 날짜
        System.out.println("현재: " + formatDate(cal));
        
        // 10일 후
        cal.add(Calendar.DAY_OF_MONTH, 10);
        System.out.println("10일 후: " + formatDate(cal));
        
        // 3개월 전
        cal.add(Calendar.MONTH, -3);
        System.out.println("3개월 전: " + formatDate(cal));
        
        // 특정 날짜 설정
        cal.set(2024, 11, 25); // 2024년 12월 25일
        System.out.println("크리스마스: " + formatDate(cal));
    }
    
    private static String formatDate(Calendar cal) {
        return String.format("%d년 %d월 %d일", 
            cal.get(Calendar.YEAR), 
            cal.get(Calendar.MONTH) + 1, 
            cal.get(Calendar.DAY_OF_MONTH));
    }
}
```

### Date와 Calendar 상호 변환
```java
import java.util.Date;
import java.util.Calendar;

public class DateCalendarConversion {
    public static void main(String[] args) {
        // Date → Calendar
        Date date = new Date();
        Calendar cal = Calendar.getInstance();
        cal.setTime(date);
        
        // Calendar → Date
        Date dateFromCal = cal.getTime();
    }
}
```

### 현대적인 날짜 API (Java 8+)
Java 8부터는 더 개선된 날짜/시간 API가 제공됩니다:

```java
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;

public class ModernDateExample {
    public static void main(String[] args) {
        LocalDateTime now = LocalDateTime.now();
        DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy년 MM월 dd일 E요일 HH시 mm분");
        String formatted = now.format(formatter);
        System.out.println(formatted);
    }
}
```

**현대적인 API의 장점**:
- 불변 객체 (스레드 안전)
- 더 직관적인 API
- 타임존 처리 개선
- 더 많은 날짜/시간 타입 제공

### 실무에서의 활용
- **로그 기록**: 날짜/시간 정보 포함
- **데이터베이스**: 날짜 필드 처리
- **스케줄링**: 특정 시간에 작업 실행
- **유효기간 계산**: 만료일 계산 등